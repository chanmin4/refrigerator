<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX MJPEG Stream with Proxy</title>
    <style>
        #stream {
            width: 640px;
            height: 480px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <h1>MJPEG Stream</h1>
    <img id="stream" src="" alt="MJPEG Stream">

<script>
        const streamUrl = 'http://192.168.0.2:3001/proxy';
        const imgElement = document.getElementById('stream');

        function fetchFrame() {
            const timestamp = new Date().getTime(); // 타임스탬프 추가로 캐시 방지
            imgElement.src = `${streamUrl}?timestamp=${timestamp}`;
        }

        setInterval(fetchFrame, 100); // 100ms마다 새로운 프레임 요청

        // 초기 프레임 가져오기
        fetchFrame();
</script>
</body>
</html>
